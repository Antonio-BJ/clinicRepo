<button class="btn btn-warning" ng-click="historiaRapida(folio)" style="margin: 10px; position: fixed; top: 0; right: 300px; z-index: 1000;">Historia Clínica Rápida</button>
<form name="formularios.dAccidente" ng-submit="guardaDatAcc()" novalidate>
    <div class="row semiTitulo" ng-hide="cveProducto==10">
        <label > Datos del Accidente </label>    
    </div>
    
    <div class="bordeSemititulo" ng-hide="cveProducto==10">
        <br>
        <div class="row" style="font-size:16px">
            <div class="col-md-3 " >
                <div class="input-group cajaInputcompleto">
                    <span><b>El paciente Llega: </b></span>

                    <select name="llega" id="llega" ng-model="accidente.llega" class="form-control" ng-options="pacLlega.Llega_clave as pacLlega.Llega_nombre  for pacLlega in listPacLLega" ng-required="cveProducto!=10" >   <option value=""> * Seleccione </option>
                    </select>
                </div>

                <div class="validacion" role="alert" ng-if="interacted(formularios.dAccidente.llega)" ng-messages="formularios.dAccidente.llega.$error">
                    <div ng-message="required">campo requerido</div>
                </div>  
            </div>

            <div class="col-md-3">
                <div class="input-group cajaInputcompleto">
                    <span>Fecha del Accidente</span>
                    <input type="text" ng-model="accidente.fecha" name="fecha" id="fecha" class= "form-control" data-date-format="DD-MM-YYYY" data-datetimepicker-confg="{ dropdownSelector: '.dropdown-toggle' }" ng-required="cveProducto!=10">
                </div>
                <div class="validacion" role="alert" ng-if="interacted(formularios.dAccidente.fecha)" ng-messages="formularios.dAccidente.fecha.$error">
                    <div ng-message="required">campo requerido</div>                   
                </div>

            </div>

            <div class="col-md-3">
                <div class="input-group cajaInputcompleto">
                    <span> Tipo de vehiculo &nbsp; </span>
                    <select name="vehiculo" id="vehiculo" ng-model="accidente.vehiculo" class= "form-control" ng-change="selectPosicion(this.id)" ng-options="TipVehi.id as TipVehi.opcion  for TipVehi in listTipVehi" ng-required="cveProducto!=10" mayusculas>
                        <option value=""> * Seleccione </option>
                    </select>
                </div>

                <div class="validacion" role="alert" ng-if="interacted(formularios.dAccidente.vehiculo)" ng-messages="formularios.dAccidente.vehiculo.$error">
                    <div ng-message="required">campo requerido</div>
                </div>
            </div>

            <div class="col-md-3 ">
                <div class="input-group cajaInputcompleto" >
                    <span>Posición</span>
                    <select name="posicion" id="posicion" class= "form-control" ng-model="accidente.posicion" ng-options="posi.id as posi.opcion  for posi in posicion" mayusculas>
                        <option value=""> * Seleccione *</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="row"  style="font-size:16px;">
            <div class="col-md-3" >
                <div class="cajaInputArriba">
                    <span class=""><b>Equipo de Seguridad</b></span>
                </div> 

                <div class="bordeInput">                                           
                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Nod">
                        <label>
                            <input type="checkbox" disabled ng-true-value="1" ng-false-value="0" >
                        <span class="fa fa-check"></span>*No disponible</label>
                    </div>
                    <span></span>

                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Cintu=='SI'">
                        <label>
                            <input type="checkbox" ng-model="accidente.seguridad.seg1"  ng-true-value="1" name="Seguridad[]"  value="1">
                        <span class="fa fa-check"></span>Cinturon Puesto</label>
                    </div>

                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Bolsa=='SI'">
                        <label>
                            <input type="checkbox" ng-model="accidente.seguridad.seg2"  ng-true-value="2" name="Seguridad[]"  value="2">
                        <span class="fa fa-check"></span>Abrio bolsa de aire</label>
                    </div>

                    <span></span>

                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Ropa=='SI'">
                        <label>
                            <input type="checkbox" ng-model="accidente.seguridad.seg3"  ng-true-value="2" name="Seguridad[]"  value="3">
                        <span class="fa fa-check"></span>Ropa Protectora</label>
                    </div>

                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Ropa=='SI'">
                        <label>
                            <input type="checkbox" ng-model="accidente.seguridad.seg4" name="Seguridad[]" value="4" ng-true-value="4" ng-false-value="0">
                        <span class="fa fa-check"></span>Casco puesto</label>
                    </div>

                    <span></span>

                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Rodi=='SI'">
                        <label>
                            <input type="checkbox" ng-model="accidente.seguridad.seg5" name="Seguridad[]" value="5" ng-true-value="5" ng-false-value="0">
                        <span class="fa fa-check"></span>Rodilleras</label>
                    </div>

                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Code=='SI'">
                        <label>
                            <input type="checkbox" ng-model="accidente.seguridad.seg6" name="Seguridad[]" value="6" ng-true-value="6" ng-false-value="0">
                        <span class="fa fa-check"></span>Coderas</label>
                    </div>

                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Costi=='SI'">
                        <label>
                            <input type="checkbox" ng-model="accidente.seguridad.seg7" name="Seguridad[]" value="7" ng-true-value="7" ng-false-value="0">
                        <span class="fa fa-check"></span>Costilleras</label>
                    </div>

                    <div ng-show="cargador1" class="row">
                        <div class="col-md-12">
                            <div  align="center">
                                <img ng-src="imgs/cargador.gif">
                            </div>
                        </div>
                    </div>
                </div>
            </div>  

            <div class="col-md-3">
                <span></span>

                <div class="cajaInputArriba">
                    <span><b>Descripción</b></span>
                </div>

                <div class="bordeInput"> 
                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Nodi=='SI'">
                        <label>
                            <input name="" type="checkbox" value="0"  disabled>
                        <span class="fa fa-check"></span>*No disponible</label>
                    </div>

                    <span></span>

                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Volc=='SI'">
                        <label>
                            <input type="checkbox" ng-change="lanzarAlerta()" ng-model="accidente.mecanismo.mec1" name="Mecanismo[]" value="1" ng-true-value="1" ng-false-value="0">
                        <span class="fa fa-check"></span>Volcadura</label>
                    </div>

                    <span></span>

                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Alca=='SI'">
                        <label>
                            <input type="checkbox" ng-model="accidente.mecanismo.mec2" name="Mecanismo[]" value="2" ng-true-value="2" ng-false-value="0">
                        <span class="fa fa-check"></span>Alcance</label>
                    </div>

                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Late=='SI'">
                        <label>
                            <input type="checkbox" ng-model="accidente.mecanismo.mec3" name="Mecanismo[]" value="3" ng-true-value="3" ng-false-value="0"> 
                        <span class="fa fa-check"></span>Lateral</label>
                    </div>

                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Fron=='SI'">
                        <label>
                            <input type="checkbox" ng-model="accidente.mecanismo.mec4" name="Mecanismo[]" value="4" ng-true-value="4" ng-false-value="0">
                        <span class="fa fa-check"></span>Frontal</label>
                    </div>

                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Derr=='SI'">
                        <label>
                            <input type="checkbox" ng-model="accidente.mecanismo.mec5" name="Mecanismo[]" value="5" ng-true-value="5" ng-false-value="0">
                        <span class="fa fa-check"></span>Derrapon</label>
                    </div>

                    <span></span>

                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Simp=='SI'">
                        <label>
                            <input type="checkbox" ng-model="accidente.mecanismo.mec6" name="Mecanismo[]" value="6" ng-true-value="6" ng-false-value="0">
                        <span class="fa fa-check"></span>Solo Impacto</label>
                    </div>

                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Imap=='SI'">
                        <label>
                            <input type="checkbox" ng-model="accidente.mecanismo.mec8" name="Mecanismo[]" value="7" ng-true-value="7" ng-false-value="0">
                        <span class="fa fa-check"></span>Impacto y Aplastamiento</label>
                    </div>

                    <span></span>

                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Caid=='SI'">
                        <label>
                            <input type="checkbox" ng-model="accidente.mecanismo.mec8" name="Mecanismo[]" value="8" ng-true-value="8" ng-false-value="0">
                        <span class="fa fa-check"></span>Caída</label>
                    </div>

                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Lesdep=='SI'">
                        <label>
                            <input type="checkbox" ng-model="accidente.mecanismo.mec9" name="Mecanismo[]" value="9" ng-true-value="9" ng-false-value="0">
                        <span class="fa fa-check"></span>Lesión deportiva</label>
                    </div>

                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Lestra=='SI'">
                        <label>
                            <input type="checkbox" ng-model="accidente.mecanismo.mec10" name="Mecanismo[]" value="10" ng-true-value="10" ng-false-value="0">
                        <span class="fa fa-check"></span>Lesión traslado</label>
                    </div>

                    <div class="checkbox c-checkbox" ng-show="arregloOpc.ManSub=='SI'">
                        <label>
                            <input type="checkbox" ng-model="accidente.mecanismo.mec11" name="Mecanismo[]" value="11" ng-true-value="11" ng-false-value="0">
                        <span class="fa fa-check"></span>Maniobra súbita</label>
                    </div>

                    <div class="checkbox c-checkbox" ng-show="arregloOpc.Otr=='SI'">
                        <label>
                            <input type="checkbox" ng-model="accidente.mecanismo.mec12" name="Mecanismo[]" value="12" ng-true-value="12" ng-false-value="0">
                        <span class="fa fa-check"></span>Otro</label>
                    </div>

                    <div class="row" ng-show="cargador2">
                        <div class="col-md-12">
                            <div  align="center">
                                <img ng-src="imgs/cargador.gif">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="cajaInputArriba">
                    <span>El paciente Presento</span>
                </div>                                                                                              
                <div class="row bordeInput">
                    <div class="col-md-6"> 
                        <div class="checkbox c-checkbox">
                            <label>
                                <input type="checkbox" name="Vomito" ng-change="lanzarAlerta()" ng-model="accidente.vomido" id="Vomito" ng-true-value="'S'" ng-false-value="'N'">
                            <span class="fa fa-check"></span>Vómito</label>
                        </div>
                        <div class="checkbox c-checkbox">
                            <label>
                                <input type="checkbox" name="Nauseas" ng-change="lanzarAlerta()" ng-model="accidente.nauseas" id="Nauseas" value="S" ng-true-value="'S'" ng-false-value="'N'">
                            <span class="fa fa-check"></span>Nauseas</label>
                        </div> 
                        <div class="checkbox c-checkbox">
                            <label>
                              <input type="checkbox" ng-model="accidente.conocimiento" ng-change="lanzarAlerta()" name="Conocimiento" id="Conocimiento" value="S" ng-true-value="'S'" ng-false-value="'N'">
                            <span class="fa fa-check"></span>Perdió el conocimiento</label>
                        </div>  
                    </div>

                    <div class="col-md-6"> 
                        <div class="checkbox c-checkbox">
                            <label>
                                <input type="checkbox" name="Mareo" ng-change="lanzarAlerta()" ng-model="accidente.mareo" id="Mareo" value="S" ng-true-value="'S'" ng-false-value="'N'">
                            <span class="fa fa-check"></span>Mareo</label>
                        </div> 
                        <div class="checkbox c-checkbox">
                            <label>
                                <input type="checkbox" name="Cefalea" ng-change="lanzarAlerta()" ng-model="accidente.cefalea" id="Cefalea" value="S" ng-true-value="'S'" ng-false-value="'N'">
                            <span class="fa fa-check"></span>Cefalea</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-3">
                <div>
                    <div class="cajaInputArriba"> 
                        <span>Zona</span>
                    </div>
                    <select name="zona" id="zona" ng-model="accidente.zona" size="13" class="form-control" ng-options="zona.Zona_clave as zona.Zona_nombre for zona in listZona" ng-change="validaEjercicio(accidente.zona)" mayusculas>
                        <option value=""> *Selecciona</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4">
                <div>
                    <div class="cajaInputArriba"> 
                        <span>Arcos de movimiento</span>
                    </div>
                    <select name="ejercicio" id="ejercicio" size="13" ng-model="accidente.ejercicio" class="form-control" ng-options="ejercicio.Ejer_clave as ejercicio.Ejer_descripcion for ejercicio in listaEjerciciosPx" ng-change="agregarEjercicio(accidente.ejercicio)" mayusculas>
                        <option value=""> *Selecciona</option>
                    </select>
                </div>
            </div> 

            <div class="col-md-5">                            
                <div class="">
                    <div class="cajaInputArriba">
                        <span>El paciente refiere...</span>
                    </div>
                </div>

                <textarea class="form-control" rows="6" name="pxRefiere" id="pxRefiere" ng-model="accidente.pxRefiere" onpaste="return false" style="resize:none; width:100%" mayusculas></textarea>        

                <br>
                <div class="col-md-8">
                    <div class="input-group">
                        <span class="input-group-addon">Escala de dolor:</span>
                        <select  class="form-control" ng-model="accidente.escala"  id="escala" name="escala" >
                            <option value="">Seleccione</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                        </select>
                    </div><br>   
                </div>
                <br>
                <button class="btn btn-success btn-block" ng-disabled="!accidente.pxRefiere || !accidente.escala" ng-click="guardaEjercicios()">
                    <i class="fa fa-plus-circle" aria-hidden="true"></i>
                    Agregar
                </button>
            </div>            
        </div><!--fin del row principal-->
        <br>

        <div class="col-md-12" ng-show="listRefEjerciciosPx">
            <div class="cajaInputArriba"> 
                <span>Ejercicios</span>
            </div>

            <div ng-show="listRefEjerciciosPx" class="mianimacion bordeInput">
                <br>
                <table width="100%" class="table table-striped table-hover" >
                    <tr>
                        <th width="20%"><b>Zona</b></th>
                        <th width="50%"><b>Resultados</b></th>
                        <th width="15%"><b>Escala de dolor</b></th>
                        <th width="15%"><b>Eliminar</b></th>
                    </tr>

                    <tr ng-repeat="ref in listRefEjerciciosPx">
                        <td>{{ref.Zona_nombre}}</td>
                        <td>{{ref.Ref_descripcion}}</td>
                        <td>{{ref.Ref_escalaDolor}}</td>
                        <td><input type='button' class="btn btn-danger btn-xs" ng-click="eliminarRef(ref.Ref_clave)" value='Eliminar'>
                    </tr>
                </table>
            </div><br>

            <div ng-show="cargador" align="center">
                <img ng-src="imgs/cargador.gif">
            </div>
        </div>

        <div class="row" >
            <div class="col-md-12">
                <div class="input-group" style="width:100%">
                    <div >
                        <div class="cajaInputArriba">
                            <span>Mecanismo de la lesión</span>  &nbsp &nbsp
                            <span><b></b>{{conteoMec}}</b></span>
                        </div>
                    </div>

                    <textarea mayusculas ng-focus="cveProducto!=10" ng-keypress="validarLongitudMecanismo()" rows="3" id="mecLesion" ng-model="accidente.mecLesion" name="mecLesion"  onpaste="return false" style="resize:none; width:100%" ng-required="cveProducto!=10" mayusculas mayusculas maxlength="225" minlength="1"></textarea>                   
                    <div class="validacion" role="alert" ng-if="interacted(formularios.dAccidente.mecLesion)" ng-messages="formularios.dAccidente.mecLesion.$error">
                        <div ng-message="required">campo requerido</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <br> 

    <div class="row semiTitulo" ng-show="sexo=='F'" >
        <label > Antecedentes Gineco-Obstetricos </label>    
    </div>

    <div class="bordeSemititulo" ng-show="sexo=='F'" >
        <br>
        <div class="row">
            <div align="right" class="col-md-6" >                        
                <div class="form-group">
                    <label class="col-sm-6 control-label">¿La paciente está embarazada?</label>
                    <div class="col-sm-6">
                        <label class="radio-inline c-radio">
                        <input type="radio" name="Emb" id="Emb" value="Si" ng-model="siEmb" />
                        <span class="fa fa-circle"></span>SI</label>
                        <label class="radio-inline c-radio">
                        <input type="radio" name="Emb" id="Emb" value="No" ng-model="siEmb" Checked/>
                        <span class="fa fa-circle"></span>NO</label>
                    </div>
                </div>
            </div>
        </div>

        <!--***********************************  para llenar datos del embarazo *******************************************-->

        <div id="Embarazo" ng-show="siEmb=='Si'" class="muestraderecha2">
            <br>                
            <div class="row">            
                <div class="row">                    
                    <div class="col-md-6">                        
                        <div class="form-group">
                            <span>Descripción</span>
                            <textarea style="resize:none" id="descEmb" ng-model="embarazo.desc" name="descEmb" class="form-control" mayusculas></textarea>
                        </div>                                      
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            <span>Justificación y obs. </span>
                            <textarea  ng-model="embarazo.justif" name="obsEmb" id="obsEmb" class="form-control" onpaste="return false" style="resize:none; " mayusculas></textarea> 
                        </div>
                    </div>
                </div>                                               

                <div class="row" ng-show="cargador"> 
                    <div class="col-md-12">
                        <div  align="center">
                            <img ng-src="imgs/cargador.gif">
                        </div>
                    </div>
                </div>   

                <DIV class= "row" align="right">                      
                    <div class="col-md-12">
                        <div class="input group">
                            <input type="button" ng-click="guardaEmbarazo()" class="btn btn-primary" value="Guardar" />
                        </div>
                    </div>
                </DIV>  

                <div class="row" ng-show="mensaje">
                    <div class="col-md-12">
                        <div >
                            <div class="alert alert-warning">No se puede agregar otro embarazo</div>
                        </div>
                    </div>
                </div>

                <div class="row" ng-show="listEmbarazo">
                    <div class="col-md-12">
                        <div  class="muestraderecha2">
                            <table align="center" width="100%" class="table table-striped table-hover" ng-repeat="emba in listEmbarazo">
                                <tr>
                                    <td><b>Control ginecologico</b></td><td>{{emba.Emb_ginecologia}}</td>
                                    <td><b>Semanas de gestaci&oacute;n</b></td><td>{{emba.Emb_semGestacion}}</td>

                                </tr>

                                <tr>
                                    <td><b>Dolor abdominal</b></td> <td>{{emba.Emb_dolAbdominal}}</td>
                                    <td><b>Descripcion</b></td><td>{{emba.Emb_descripcion}}</td>
                                </tr>

                                <tr>
                                    <td><b>Frecuencía cardiaca fetal</b></td><td>{{emba.Emb_fcf}}</td>
                                    <td><b>Movimientos fetales</b></td><td>{{emba.Emb_movFetales}}</td>
                               </tr>

                               <tr>
                                    <td><b>Observaciones</b></td><td colspan="3">{{emba.Emb_obs}}</td>
                               </tr>
                            </table>
                        </div>
                    </div> 
                </div>
            </div>
            <!--*********************************** fin para llenar datos del embarazo ***************************************-->
        </div>
    </div>
    <!--************************************  lesion y observaciones **************************************************-->
    <br>

    <div class="row semiTitulo" >
        <label > El paciente presenta: </label>    
    </div> 

    <div class="bordeSemititulo">
        <div class="row">
            <div class="col-md-3">
                <div class="input-group">
                    <div class="cajaInputArriba"> 
                        <span>Lesión</span>
                    </div>

                    <select name="lesionRed" id="lesionRed" ng-model="lesion.lesion" ng-change="validaLista()" size="13" class="form-control" ng-options="lesion.LES_clave as lesion.LES_nombre for lesion in listLesion" mayusculas>
                        <option value=""> *Selecciona</option>
                    </select>
                </div>
            </div>                     

            <div class="col-md-6">
                <div class="cajaInputArriba"> 
                    <span>Zona</span>
                </div>

                <div class="row bordeInput" >
                    <div class="col-md-6">
                        <img alt=""  src="imgs/mapitacuerpo.png" width="200" height="200" usemap="#cuerpo2map"/>
                        <map name="cuerpo2map" id="cuerpo2map">
                            <area style="border:1px" style="border:1px" shape="rect" ng-model="lesion.cuerpo" ng-value="1"    id="1"  coords="46,140,30,110"  title="muslo derecho"       ng-click="guardaLesion(1)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="rect" ng-model="lesion.cuerpo" ng-value="2"  id="2"  coords="65,140,45,110"  title="muslo izquierdo"     ng-click="guardaLesion(2)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle" ng-model="lesion.cuerpo" ng-value="3"  id="3"  coords="40,145,7"       title="rodilla derecha"      ng-click="guardaLesion(3)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle" ng-model="lesion.cuerpo" ng-value="4"  id="4"  coords="50,145,7"       title="rodilla izquierda"    ng-click="guardaLesion(4)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="rect"  ng-model="lesion.cuerpo" ng-value="5"   id="5"  coords="46,180,30,145"  title="pierna derecha"   ng-click="guardaLesion(5)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="rect"  ng-model="lesion.cuerpo" ng-value="6"   id="6"  coords="65,180,45,145"  title="pierna izquierda" ng-click="guardaLesion(6)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle"  ng-model="lesion.cuerpo" ng-value="7" id="7"  coords="42,185,4"       title="tobillo derecho"      ng-click="guardaLesion(7)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle" ng-model="lesion.cuerpo" ng-value="8"  id="8"  coords="50,185,4"       title="tobillo izquierdo"    ng-click="guardaLesion(8)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle"  ng-model="lesion.cuerpo" ng-value="9" id="9"  coords="40,190,4"       title="pie derecho"          ng-click="guardaLesion(9)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle"  ng-model="lesion.cuerpo" ng-value="10" id="10" coords="50,190,4"       title="pie izquierdo"        ng-click="guardaLesion(10)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle" ng-model="lesion.cuerpo" ng-value="11"  id="11" coords="46,18,7"        title="cara"                 ng-click="guardaLesion(11)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle"  ng-model="lesion.cuerpo" ng-value="12" id="12" coords="46,8,7"         title="cabeza"               ng-click="guardaLesion(12)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="rect"   ng-model="lesion.cuerpo" ng-value="13"  id="13" coords="40,23,55,35"    title="cuello"               ng-click="guardaLesion(13)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle" ng-model="lesion.cuerpo" ng-value="14"  id="14" coords="25,40,4"        title="hombro derecho"       ng-click="guardaLesion(14)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle" ng-model="lesion.cuerpo" ng-value="15"  id="15" coords="65,40,4"        title="hombro izquierdo"     ng-click="guardaLesion(15)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle"  ng-model="lesion.cuerpo" ng-value="16" id="16" coords="35,50,7"        title="pecho derecho"        ng-click="guardaLesion(16)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle" ng-model="lesion.cuerpo" ng-value="17"  id="17" coords="60,50,7"        title="pecho izquierdo"      ng-click="guardaLesion(17)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="rect"   ng-model="lesion.cuerpo" ng-value="18"  id="18" coords="30,55,60,90"    title="abdomen"              ng-click="guardaLesion(18)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle" ng-model="lesion.cuerpo" ng-value="62"  id="62" coords="40,52,7"        title="Torax"                ng-click="guardaLesion(62)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="rect"   ng-model="lesion.cuerpo" ng-value="19"  id="19" coords="35,90,60,110"   title="Cadera"               ng-click="guardaLesion(19)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle" ng-model="lesion.cuerpo" ng-value="20"  id="20" coords="25,70,3"        title="codo derecho"         ng-click="guardaLesion(20)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle"  ng-model="lesion.cuerpo" ng-value="21" id="21" coords="70,70,3"        title="codo izquierdo"       ng-click="guardaLesion(21)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="rect"   ng-model="lesion.cuerpo" ng-value="22"  id="22" coords="20,40,30,70"    title="brazo derecho"        ng-click="guardaLesion(22)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="rect"  ng-model="lesion.cuerpo" ng-value="23"   id="23" coords="61,40,75,70"    title="brazo izquierdo"      ng-click="guardaLesion(23)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="rect"   ng-model="lesion.cuerpo" ng-value="24"  id="24" coords="10,71,30,95"   title="ante-brazo derecho"    ng-click="guardaLesion(24)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="rect"  ng-model="lesion.cuerpo" ng-value="25"   id="25" coords="63,71,80,95"   title="ante-brazo izquierdo"  ng-click="guardaLesion(25)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle" ng-model="lesion.cuerpo" ng-value="26"  id="26" coords="13,98,4"      title="mu&ntilde;eca derecha"  ng-click="guardaLesion(26)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle"  ng-model="lesion.cuerpo" ng-value="27" id="27" coords="80,98,4"      title="mu&ntilde;eca izquierda"ng-click="guardaLesion(27)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle" ng-model="lesion.cuerpo" ng-value="28"  id="28" coords="9,105,4"      title="mano derecha"           ng-click="guardaLesion(28)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle" ng-model="lesion.cuerpo" ng-value="29"  id="29" coords="83,105,4"     title="mano izquierda"         ng-click="guardaLesion(29)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle" ng-model="lesion.cuerpo" ng-value="30"  id="30" coords="8,115,4"      title="dedos mano derecha"     ng-click="guardaLesion(30)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle"  ng-model="lesion.cuerpo" ng-value="31" id="31" coords="83,115,4"     title="dedos mano izquierda"   ng-click="guardaLesion(31)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle" ng-model="lesion.cuerpo" ng-value="32"  id="32" coords="150,8,7"         title="cabeza (posterior)"                ng-click="guardaLesion(32)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle"  ng-model="lesion.cuerpo" ng-value="33" id="33" coords="150,15,5"        title="nuca" ng-click="guardaLesion(33)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle"  ng-model="lesion.cuerpo" ng-value="34" id="34" coords="150,25,5"        title="Columna Cervical"                ng-click="guardaLesion(34)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="rect"   ng-model="lesion.cuerpo" ng-value="39"  id="39" coords="153,140,170,105" title="pierna derecha (posterior)"        ng-click="guardaLesion(39)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="rect"  ng-model="lesion.cuerpo" ng-value="40"   id="40" coords="135,140,160,110" title="pierna izquierda (posterior)"      ng-click="guardaLesion(40)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="rect"   ng-model="lesion.cuerpo" ng-value="41"  id="41" coords="155,150,170,185" title="ante-pierna derecha (posterior)"   ng-click="guardaLesion(41)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="rect"   ng-model="lesion.cuerpo" ng-value="42"  id="42" coords="130,150,165,185" title="ante-pierna izquierda (posterior)" ng-click="guardaLesion(42)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle"  ng-model="lesion.cuerpo" ng-value="43" id="43" coords="158,151,7"       title="rodilla derecha (posterior)"       ng-click="guardaLesion(43)" data-toggle="tooltip" data-placement="left"/>
                            <area style="border:1px" shape="circle"  ng-model="lesion.cuerpo" ng-value="44" id="44" coords="145,151,7"       title="rodilla izquierda (posterior)"     ng-click="guardaLesion(44)" data-toggle="tooltip" data-placement="left"/>
                           <area style="border:1px" shape="circle" ng-model="lesion.cuerpo" ng-value="45"  id="45" coords="158,195,5"       title="talon derecho"                     ng-click="guardaLesion(45)" data-toggle="tooltip" data-placement="left"/>
                           <area style="border:1px" shape="circle"  ng-model="lesion.cuerpo" ng-value="46" id="46" coords="145,195,5"       title="talon izquierdo"                   ng-click="guardaLesion(46)" data-toggle="tooltip" data-placement="left"/>
                           <area style="border:1px" shape="circle"  ng-model="lesion.cuerpo" ng-value="51" id="51" coords="175,70,7"        title="codo derecho()"                    ng-click="guardaLesion(51)" data-toggle="tooltip" data-placement="left"/>
                           <area style="border:1px" shape="circle"  ng-model="lesion.cuerpo" ng-value="52" id="52" coords="130,70,7"        title="codo izquierdo()"                  ng-click="guardaLesion(52)" data-toggle="tooltip" data-placement="left"/>
                           <area style="border:1px" shape="rect"   ng-model="lesion.cuerpo" ng-value="53"  id="53" coords="175,71,190,98"   title="ante-brazo derecho (posterior)"    ng-click="guardaLesion(53)" data-toggle="tooltip" data-placement="left"/>
                           <area shape="rect"   ng-model="lesion.cuerpo" ng-value="54"  id="54" coords="110,71,130,98"   title="ante-brazo izquierdo (posterior)"  ng-click="guardaLesion(54)" data-toggle="tooltip" data-placement="left"/>
                           <area shape="circle" ng-model="lesion.cuerpo" ng-value="55"  id="55" coords="190,105,7"      title="mano derecha (posterior)"           ng-click="guardaLesion(55)" data-toggle="tooltip" data-placement="left"/>
                           <area shape="circle"  ng-model="lesion.cuerpo" ng-value="56" id="56" coords="110,105,7"      title="mano izquierda (posterior)"         ng-click="guardaLesion(56)" data-toggle="tooltip" data-placement="left"/>
                           <area shape="circle"  ng-model="lesion.cuerpo" ng-value="57" id="57" coords="190,115,4"      title="dedos mano derecha (posterior)"     ng-click="guardaLesion(57)" data-toggle="tooltip" data-placement="left"/>
                           <area shape="circle"  ng-model="lesion.cuerpo" ng-value="58" id="58" coords="115,115,4"      title="dedos mano izquierda (posterior)"   ng-click="guardaLesion(58)" data-toggle="tooltip" data-placement="left"/>
                           <area shape="circle"  ng-model="lesion.cuerpo" ng-value="59" id="59" coords="150,50,8"       title="Columna Dorzal"                     ng-click="guardaLesion(59)" data-toggle="tooltip" data-placement="left"/>
                           <area shape="circle"  ng-model="lesion.cuerpo" ng-value="60" id="60" coords="150,80,8"      title="Columna Lumbar"                     ng-click="guardaLesion(60)" data-toggle="tooltip" data-placement="left"/>
                           <area shape="circle" ng-model="lesion.cuerpo" ng-value="61"  id="61" coords="150,95,8"      title="Zona Sacra"                         ng-click="guardaLesion(61)" data-toggle="tooltip" data-placement="left"/>

                           <area shape="rect"   ng-model="lesion.cuerpo" ng-value="35"  id="35" coords="138,10,168,80"   title="espalda"                           ng-click="guardaLesion(35)" data-toggle="tooltip" data-placement="left"/>
                           <area shape="rect"   ng-model="lesion.cuerpo" ng-value="36"  id="36" coords="140,81,165,95"   title="espalda baja"                      ng-click="guardaLesion(36)" data-toggle="tooltip" data-placement="left"/>
                           <area shape="circle"  ng-model="lesion.cuerpo" ng-value="37" id="37" coords="160,101,8"       title="gluteo derecho"                    ng-click="guardaLesion(37)" data-toggle="tooltip" data-placement="left"/>
                           <area shape="circle" ng-model="lesion.cuerpo" ng-value="38"  id="38" coords="145,101,8"       title="gluteo izquierdo"                  ng-click="guardaLesion(38)" data-toggle="tooltip" data-placement="left"/>
                           <area shape="circle"  ng-model="lesion.cuerpo" ng-value="47" id="47" coords="175,40,7"        title="hombro derecho (posterior)"        ng-click="guardaLesion(47)" data-toggle="tooltip" data-placement="left"/>
                           <area shape="circle"  ng-model="lesion.cuerpo" ng-value="48" id="48" coords="130,40,7"        title="hombro izquierdo (posterior)"      ng-click="guardaLesion(48)" data-toggle="tooltip" data-placement="left"/>
                           <area shape="rect"   ng-model="lesion.cuerpo" ng-value="49"  id="49" coords="160,40,180,70"   title="brazo derecho (posterior)"         ng-click="guardaLesion(49)" data-toggle="tooltip" data-placement="left"/>
                           <area shape="rect"  ng-model="lesion.cuerpo" ng-value="50"   id="50" coords="120,40,150,70"   title="brazo izquierdo (posterior)"       ng-click="guardaLesion(50)" data-toggle="tooltip" data-placement="left"/>
                        </map>
                    </div>
                </div>
            </div>

            <div class="col-md-12" ng-show="listLesiones">
                <div class="cajaInputArriba"> 
                    <span>Resultados</span>
                </div>

                <div ng-show="listLesiones" class="mianimacion bordeInput">
                    <br>
                    <table width="100%" class="table table-striped table-hover" >
                        <tr>
                          <th width="45%"><b>Lesion</b></th>
                          <th width="45%"><b>Zona</b></th>
                          <th width="10%"><b>Eliminar</b></th>
                        </tr>

                        <tr ng-repeat="les in listLesiones">
                          <td >{{les.Les_nombre}}</td>
                          <td>{{les.Cue_nombre}}</td>
                          <td><input type='button' class="btn btn-danger btn-xs" ng-click="eliminarLes(les.LesN_clave)" value='Eliminar'>
                        </tr>
                    </table>
                </div>

                <div ng-show="cargador" align="center">
                    <img ng-src="imgs/cargador.gif">
                </div>
            </div>
        </div>

        <div class="row"> 
            <div class="col-md-12">
                <div class="row" >
                    <div class="cajaInputArriba"> 
                        <span>Subir foto de la videollamada</span>
                    </div>

                    <div class=" bordeInput">
                        <div class="row">
                            <div class="col-md-6" align="left">
                                <div style="width:97%">
                                    <input type="file" ng-file-select="onFileSelect_xml($files)" required>
                                </div> 

                                <div class="progress" style="width:97%">
                                    <div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: {{progressBar}}%">
                                      <span>{{progressBar}}%</span>
                                    </div>
                                </div>                    
                            </div>    

                            <div class="col-md-5" align="left">
                                <textarea class="form-control" rows="3" placeholder="Observaciones" ng-model="rx.inter" mayusculas></textarea>
                            </div>             

                            <div class="col-md-1" align="center">
                              <input type="button" ng-click="guardaDigital()" class="btn btn-primary" value="Guardar">
                            </div>

                            <div class="col-md-12" ng-show="msjFoto">
                                <div class="alert alert-success">{{msjFoto}}</div>
                            </div>
                        </div>
                    </div>
                </div>    
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div ng-show="mensajeLesion">
                    <div class="alert alert-warning">Elige primero una lesión</div>
                </div>
            </div>
        </div>
    </div>
    <!-- CIERRE DE PANEL Y CONTAINER -->

    <br>
    <div class="row semiTitulo" >
        <label >Observaciones </label>    
    </div> 

    <div class="bordeSemititulo">
        <div class="row">
            <div class="col-md-12">                            
                <div class="">
                    <div class="cajaInputArriba">
                        <span>Estado General y Exploración Física</span>    
                        &nbsp &nbsp
                        <span align="right"><b>{{conteoEstado}}</b></span> 
                    </div>
                </div>

                <textarea class="form-control" ng-keypress="validarLongitudEstadoGeneral()" rows="6" name="estado" ng-model="accidente.estado" onpaste="return false" style="resize:none; width:100%" required mayusculas maxlength="225" minlength="1"></textarea>        

                <div class="validacion" role="alert" ng-if="interacted(formularios.dAccidente.estado)" ng-messages="formularios.dAccidente.estado.$error">
                    <div ng-message="required">campo requerido</div>            
                </div>
            </div>                
        </div><!--fin del row principal-->
        <!--<div class="row">

        <div class="col-md-4 col-md-offset-8">

          <input type="submit" name="guardaObs" id="guardaObs" class="btn btn-success"  value="Guardar" />

        </div>

        </div>-->
    </div>
    <!--*******************************  fin  lesion y observaciones **************************************************-->
    <br>

    <div class="row" align="right">
        <div class="col-md-8 col-md-offset-2" align="center">                 
            <div ng-show="cargador3" align="center">
                <img ng-src="imgs/cargador.gif">
            </div>                 
        </div>

        <div class="col-md-2">                                     
            <input type="Submit" class="btn btn-primary btn-lg"  value="Siguiente"/>
        </div>
    </div>
</form>

<script type="text/javascript">
       $('#fecha').datetimepicker({         
        pickTime: false,                 //en/disables the time picker            
        language:'es'                  //sets language locale
    });
</script>

<div class="modal fade" id="modalhistoria" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Notas de historia clínica</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <div>
                            <div role="tabpanel" class="tab-pane" id="hcRapida">
                                <form name="formularios.historiaRapida" ng-submit="guardaHistoriaRapida()" novalidate> 
                                    <div>         
                                        <div class="row" >        
                                            <div class="col-md-12" style="vertical-align:middle;" align="right">
                                                <div class="input-group" style="width:100%">
                                                    <span class="input-group-addon">Notas: </span>
                                                    <textarea class="form-control" ng-model="hcRapida.notas" name="notas" placeholder="Ej. El paciente es alérgico a la aspirina y padece de gastritis." rows="6" mayusculas required></textarea> 
                                                </div><br>
                                                <div class="input-group" style="width:100%; text-align: justify">
                                                    <h4>Notas registradas: </h4>
                                                    <div>{{historia.Hist_notas}}</div>
                                                </div><br>
                                                <br>
                                                <button type="submit" class="btn btn-success" ng-disabled="formularios.historiaRapida.$invalid || trabajando" ng-if="formularios.historiaRapida.$valid && !trabajando">
                                                    Guardar
                                                </button>
                            
                                                <button type="button" class="btn btn-warning btn-block f-content" ng-disabled="formularios.historiaRapida.$invalid" ng-if="formularios.historiaRapida.$invalid && !trabajando">
                                                    <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
                                                    No hay información
                                                </button>
                    
                                                <button type="button" class="btn btn-info btn-block" disabled ng-if="trabajando">
                                                    <i class="fa fa-cog fa-spin"></i>
                                                    Por favor espere 
                                                </button>
                                            </div>
                                        </div>
                                        <br>
                    
                                        <div class="row" ></div>
                                        <div class="validacion" ng-show="msjHc">
                                            <span>La información se guardó correctamente</span>
                                        </div>
                                    </div>
                                </form>
                            </div>          
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>